{"version":3,"sources":["dist/hyperappLogger.js"],"names":["global","factory","exports","module","define","amd","hyperappLogger","this","defaultLog","prevState","action","nextState","console","group","name","log","data","groupEnd","isFn","value","makeLoggerApp","nextApp","initialState","actionsTemplate","view","container","enhancedActions","enhanceActions","actions","prefix","namespace","Object","keys","reduce","otherActions","namedspacedName","state","result","withLogger","optionsOrApp"],"mappings":"CAAC,SAAUA,EAAQC,GACC,iBAAZC,SAA0C,oBAAXC,OAAyBF,EAAQC,SACrD,mBAAXE,QAAyBA,OAAOC,IAAMD,QAAQ,WAAYH,GAChEA,EAASD,EAAOM,mBAHlB,CAIEC,KAAM,SAAWL,GAAW,aAE9B,SAASM,EAAWC,EAAWC,EAAQC,GACrCC,QAAQC,MAAM,YAAa,qCAAsCH,EAAOI,MACxEF,QAAQG,IAAI,gBAAiB,qCAAsCN,GACnEG,QAAQG,IAAI,UAAW,qCAAsCL,EAAOM,MACpEJ,QAAQG,IAAI,gBAAiB,qCAAsCJ,GACnEC,QAAQK,WAGV,IAAIC,EAAO,SAASC,GAClB,MAAwB,mBAAVA,GAGhB,SAASC,EAAcL,EAAKM,GAC1B,OAAO,SAASC,EAAcC,EAAiBC,EAAMC,GAwBnD,IAAIC,EAvBJ,SAASC,EAAeC,EAASC,GAC/B,IAAIC,EAAYD,EAASA,EAAS,IAAM,GACxC,OAAOE,OAAOC,KAAKJ,OAAeK,OAAO,SAASC,EAAcpB,GAC9D,IAAIqB,EAAkBL,EAAYhB,EAC9BJ,EAASkB,EAAQd,GAerB,OAdAoB,EAAapB,GACO,mBAAXJ,EACH,SAASM,GACP,OAAO,SAASoB,EAAOR,GACrB,IAAIS,EAAS3B,EAAOM,GAMpB,OALAqB,EACoB,mBAAXA,EACHA,EAAOD,EAAOR,GACdS,EACNtB,EAAIqB,GAAStB,KAAMqB,EAAiBnB,KAAMA,GAAQqB,GAC3CA,IAGXV,EAAejB,EAAQyB,GACtBD,OAIWP,CAAeJ,GAGrC,OADiBF,EAAQC,EAAcI,EAAiBF,EAAMC,IAgBlEvB,EAAQoC,WAXR,SAAoBC,GAClB,GAAIrB,EAAKqB,GACP,OAAOnB,EAAcZ,EAAY+B,GAEjC,IAAIxB,EAAMG,EAAKqB,EAAaxB,KAAOwB,EAAaxB,IAAMP,EACtD,OAAO,SAASa,GACd,OAAOD,EAAcL,EAAKM","sourcesContent":["(function (global, factory) {\n\ttypeof exports === 'object' && typeof module !== 'undefined' ? factory(exports) :\n\ttypeof define === 'function' && define.amd ? define(['exports'], factory) :\n\t(factory((global.hyperappLogger = {})));\n}(this, (function (exports) { 'use strict';\n\nfunction defaultLog(prevState, action, nextState) {\n  console.group(\"%c action\", \"color: gray; font-weight: lighter;\", action.name);\n  console.log(\"%c prev state\", \"color: #9E9E9E; font-weight: bold;\", prevState);\n  console.log(\"%c data\", \"color: #03A9F4; font-weight: bold;\", action.data);\n  console.log(\"%c next state\", \"color: #4CAF50; font-weight: bold;\", nextState);\n  console.groupEnd();\n}\n\nvar isFn = function(value) {\n  return typeof value === \"function\"\n};\n\nfunction makeLoggerApp(log, nextApp) {\n  return function(initialState, actionsTemplate, view, container) {\n    function enhanceActions(actions, prefix) {\n      var namespace = prefix ? prefix + \".\" : \"\";\n      return Object.keys(actions || {}).reduce(function(otherActions, name) {\n        var namedspacedName = namespace + name;\n        var action = actions[name];\n        otherActions[name] =\n          typeof action === \"function\"\n            ? function(data) {\n                return function(state, actions) {\n                  var result = action(data);\n                  result =\n                    typeof result === \"function\"\n                      ? result(state, actions)\n                      : result;\n                  log(state, { name: namedspacedName, data: data }, result);\n                  return result\n                }\n              }\n            : enhanceActions(action, namedspacedName);\n        return otherActions\n      }, {})\n    }\n\n    var enhancedActions = enhanceActions(actionsTemplate);\n\n    var appActions = nextApp(initialState, enhancedActions, view, container);\n    return appActions\n  }\n}\n\nfunction withLogger(optionsOrApp) {\n  if (isFn(optionsOrApp)) {\n    return makeLoggerApp(defaultLog, optionsOrApp)\n  } else {\n    var log = isFn(optionsOrApp.log) ? optionsOrApp.log : defaultLog;\n    return function(nextApp) {\n      return makeLoggerApp(log, nextApp)\n    }\n  }\n}\n\nexports.withLogger = withLogger;\n\nObject.defineProperty(exports, '__esModule', { value: true });\n\n})));\n//# sourceMappingURL=hyperappLogger.js.map\n"]}